{"version":3,"sources":["images/logo-vector.svg","contexts/CurrentUserContext.js","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","images/success.svg","images/error.svg","components/InfoTooltip.js","components/PageNotFound.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Header","props","curentUser","useContext","className","src","logo","alt","email","to","link","onClick","text","Card","currentUser","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","type","onDeleteCard","name","onCardLike","length","Main","onLogout","style","backgroundImage","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","Footer","ImagePopup","isOpen","onClose","useEffect","handleEscapeClose","event","key","handleOverlayClose","target","classList","contains","document","addEventListener","removeEventListener","api","settings","this","_baseUrl","baseUrl","_headers","headers","fetch","then","_getResponseData","userData","method","body","JSON","stringify","picture","values","place","cardId","likeTheCard","delCardsLike","res","ok","json","Promise","reject","status","BASE_URL","_checkResponse","PopupWithForm","title","onSubmit","children","forSubmit","EditProfilePopup","useState","setName","description","setDescription","e","preventDefault","onUpdateUser","value","onChange","id","minLength","maxLength","required","placeholder","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setPlace","setLink","onAddCard","noValidate","ProtectedRoute","Component","component","isLoggedIn","Login","setEmail","password","setPassword","handleLogin","Register","handleRegister","InfoTooltip","popupId","isSuccess","success","error","PageNotFound","App","history","useHistory","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","isAddPlacePopupOpen","setIsAddPlacePopupOpen","loggedIn","setLoggedIn","isAuthReqSuccess","setIsAuthReqSuccess","isInfoToolOpen","setIsInfoToolOpen","setCards","setUserData","getInitialData","all","Api","getInitialCards","getUserData","initialCards","catch","err","console","log","closeAllPopups","token","localStorage","getItem","Accept","Authorization","auth","data","Provider","path","registerData","push","loginData","setItem","exact","handleCardLikeOnServer","newCard","state","c","delCardFromServer","prevCards","filter","removeItem","sendUserInfo","sendUserAvatar","userCardData","sendNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.327b027a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-vector.03b78ada.svg\";","import React from \"react\";\n\nexport const CurrentUserContext = React.createContext();\n","import logo from \"../images/logo-vector.svg\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Header(props) {\n  const curentUser = React.useContext(CurrentUserContext);\n  return (\n    <header className=\"header\">\n      <img className=\"logo\" src={logo} alt=\"Логотип сайта Mesto\" />\n      <div className=\"header__data\">\n        <p className=\"header__email\">{curentUser.email}</p>\n        <Link className=\"header__link\" to={props.link} onClick={props.onClick}>\n          {props.text}\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === currentUser._id;\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `photo-grid__trash-bin ${\n    isOwn ? \"\" : \"photo-grid__trash-bin_hidden\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === currentUser._id);\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `photo-grid__heart ${\n    isLiked ? \"photo-grid__heart_liked\" : \"\"\n  }`;\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onDeleteCard(props.card);\n  }\n\n  return (\n    <li className=\"photo-grid__item-fotocard\">\n      <img\n        className=\"photo-grid__item\"\n        src={props.card.link}\n        alt={props.card.text}\n        onClick={() => {\n          props.onCardClick(props.card);\n        }}\n      />\n      <button\n        type=\"button\"\n        className={cardDeleteButtonClassName}\n        onClick={handleDeleteClick}\n      />\n      <div className=\"photo-grid__foto-discription\">\n        <h2 className=\"photo-grid__place-name\">{props.card.name}</h2>\n        <div className=\"photo-grid__likes-container\">\n          <button\n            type=\"button\"\n            className={cardLikeButtonClassName}\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"photo-grid__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport Header from \"./Header.js\";\n\nfunction Main(props) {\n  const curentUser = React.useContext(CurrentUserContext);\n  return (\n    <>\n      <Header link={\"sign-in\"} text={\"Выход\"} onClick={props.onLogout} />\n      <main className=\"content\">\n        <section className=\"profile\">\n          <div className=\"profile__card\">\n            <div\n              className=\"profile__avatar-foto\"\n              style={{ backgroundImage: `url(${curentUser.avatar})` }}\n            >\n              <button\n                className=\"profile__avatar-edit-button\"\n                type=\"button\"\n                onClick={props.onEditAvatar}\n              ></button>\n            </div>\n            <div className=\"profile__info\">\n              <div className=\"profile__title\">\n                <h1 className=\"profile__name\"> {curentUser.name} </h1>\n                <button\n                  type=\"button\"\n                  className=\"profile__edit-button\"\n                  onClick={props.onEditProfile}\n                ></button>\n              </div>\n              <p className=\"profile__discription\"> {curentUser.about} </p>\n            </div>\n          </div>\n          <button\n            type=\"button\"\n            className=\"profile__addbutton\"\n            onClick={props.onAddPlace}\n          ></button>\n        </section>\n        <section className=\"photo-grid\">\n          <ul className=\"photo-grid__list\">\n            {props.cards.map((card) => (\n              <Card\n                card={card}\n                key={card._id}\n                onCardClick={props.onCardClick}\n                onCardLike={props.onCardLike}\n                onDeleteCard={props.onDeleteCard}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n    </>\n  );\n}\nexport default Main;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  const { isOpen, onClose } = props;\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n\n    const handleEscapeClose = (event) => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n    const handleOverlayClose = (event) => {\n      if (\n        event.target.classList.contains(\"popup\") ||\n        event.target.classList.contains(\"popup__close-button\")\n      ) {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    document.addEventListener(\"mousedown\", handleOverlayClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n      document.removeEventListener(\"mousedown\", handleOverlayClose);\n    };\n  }, [isOpen, onClose]);\n\n  return (\n    <div\n      className={`popup popup_image-zoom ${props.isOpen ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"popup__zoom-window\">\n        <img\n          className=\"popup__big-foto\"\n          src={props.card.link}\n          alt={props.card.name}\n        />\n        <button\n          type=\"button\"\n          className=\"popup__close-button popup__close-button_zoom\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__place-name popup__place-name_zoom\">\n          {props.card.name}\n        </h2>\n      </div>\n    </div>\n  );\n}\nexport default ImagePopup;\n","export class Api {\n  constructor(settings) {\n    this._baseUrl = settings.baseUrl;\n    this._headers = settings.headers;\n  }\n\n  /////Получаем данные пользователя с сервера////////////////\n  getUserData() {\n    return fetch(this._baseUrl + \"/users/me\", {\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  /////Получаем карточки с сервера//////////////////////////////\n  getInitialCards() {\n    return fetch(this._baseUrl + \"/cards\", {\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  /////Отправляем измененные данные пользователя на сервер////////////////\n  sendUserInfo(userData) {\n    return fetch(this._baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about,\n      }),\n    }).then(this._getResponseData);\n  }\n\n  /////Отправляем аватар на сервер////////////////\n  sendUserAvatar(picture) {\n    return fetch(this._baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: picture.avatar,\n      }),\n    }).then(this._getResponseData);\n  }\n\n  /////////////Отправляем новую фотокарточку///////////////\n  sendNewCard(values) {\n    return fetch(this._baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: values.place,\n        link: values.link,\n      }),\n    }).then(this._getResponseData);\n  }\n\n  /////////////Поставим Лайк///////////////\n  likeTheCard(cardId) {\n    return fetch(this._baseUrl + `/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  /////////////Удалим Лайк///////////////\n  delCardsLike(cardId) {\n      return fetch(this._baseUrl + `/cards/likes/${cardId}`, {\n              method: 'DELETE',\n              headers: this._headers\n          })\n          .then(this._getResponseData);\n  }\n\n  handleCardLikeOnServer(cardId, isLiked) {\n    if(isLiked) {\n        return this.likeTheCard(cardId)\n    } else {\n        return this.delCardsLike(cardId)\n    }\n}\n\n  /////////////Удалим Фотокарточку///////////////\n  delCardFromServer(cardId) {\n    return fetch(this._baseUrl + `/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n      return Promise.reject(`Ошибка, что-то пошло не так: ${res.status}`);\n    }\n    return res.json();\n  }\n}\n\n//////////////////////////////////\nexport const api = new Api({\n  baseUrl: \"https://api.serjo.nomoredomains.monster\",\n  // headers: {\n  //   authorization: \"35a14b0b-ee14-4289-9936-131b6a5ac6f5\",\n  //   \"Content-Type\": \"application/json\",\n  // },\n});\nexport default api;","export const BASE_URL = \"https://api.serjo.nomoredomains.monster\";\n\nfunction _checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка в авторизации ${res.status}`);\n}\n\nexport function signup({ email, password }) {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(_checkResponse);\n}\n\nexport const signin = ({ email, password }) =>\n  fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ email, password }),\n  }).then(_checkResponse);\n\nexport const tokenValid = (token) =>\n  fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n  }).then(_checkResponse);\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  const { isOpen, onClose } = props;\n\n  React.useEffect(() => {\n    if (!isOpen) return;\n    const handleEscapeClose = (event) => {\n      if (event.key === \"Escape\") {\n        onClose();\n      }\n    };\n    const handleOverlayClose = (event) => {\n      if (\n        event.target.classList.contains(\"popup\") ||\n        event.target.classList.contains(\"popup__close-button\")\n      ) {\n        onClose();\n      }\n    };\n    document.addEventListener(\"keydown\", handleEscapeClose);\n    document.addEventListener(\"mousedown\", handleOverlayClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEscapeClose);\n      document.removeEventListener(\"mousedown\", handleOverlayClose);\n    };\n  }, [isOpen, onClose]);\n\n  return (\n    <div\n      className={`popup popup_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <div className=\"popup__window\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <h3 className=\"popup__title\">{props.title}</h3>\n        <form\n          className={`popup__form popup__form_${props.name}`}\n          onSubmit={props.onSubmit}\n        >\n          {props.children}\n          {/*будет передаваться вложенное содержимое в виде JSX-разметки, отличающейся для всех четырёх попапов */}\n          <button type=\"submit\" className=\"popup__save-button\">\n            {props.forSubmit}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction EditProfilePopup(props) {\n  // Подписка на контекст\n  const curentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(`${curentUser.name}`);\n  const [description, setDescription] = React.useState(`${curentUser.about}`);\n\n  function handleSetName(e) {\n    setName(e.target.value);\n  }\n\n  function handleSetDescription(e) {\n    setDescription(e.target.value);\n  }\n  // После загрузки текущего пользователя из API\n  // его данные будут использованы в управляемых компонентах.\n  React.useEffect(() => {\n    setName(curentUser.name);\n    setDescription(curentUser.about);\n  }, [curentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n\n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      title=\"Редактировать профиль\"\n      forSubmit=\"Сохранить\"\n    >\n      <input\n        value={name}\n        onChange={handleSetName}\n        id=\"user_name\"\n        type=\"text\"\n        className=\"popup__input popup__input_name_name\"\n        name=\"name\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        required=\"\"\n        placeholder=\"Имя\"\n      />\n      <span id=\"user_name-error\" className=\"error\"></span>\n      <input\n        value={description}\n        onChange={handleSetDescription}\n        id=\"about\"\n        type=\"text\"\n        className=\"popup__input popup__input_name_discription\"\n        name=\"discription\"\n        required=\"\"\n        minLength=\"2\"\n        maxLength=\"60\"\n        placeholder=\"О себе\"\n      />\n      <span id=\"about-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  }\n\n  return (\n    // ПОПАП АВАТАР\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      title=\"Обновить аватар\"\n      forSubmit=\"Сохранить\"\n    >\n      <input\n        ref={avatarRef}\n        id=\"link-avatar\"\n        required=\"\"\n        type=\"url\"\n        className=\"popup__input popup__input_name_url\"\n        name=\"link\"\n        placeholder=\"Ссылка на аватар\"\n      />\n      <span id=\"link-avatar-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import PopupWithForm from \"./PopupWithForm.js\";\nimport React from \"react\";\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState(\"\");\n  const [link, setLink] = React.useState(\"\");\n\n  function handlePlaceChange(e) {\n    setPlace(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onAddCard({\n      place: place,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      title=\"Новое место\"\n      forSubmit=\"Создать\"\n    >\n      <input\n        value={place}\n        onChange={handlePlaceChange}\n        id=\"name-card\"\n        type=\"text\"\n        minLength=\"3\"\n        maxLength=\"30\"\n        required=\"\"\n        className=\"popup__input popup__input_name_place\"\n        name=\"name\"\n        placeholder=\"Название\"\n        noValidate=\"\"\n      />\n      <span id=\"name-card-error\" className=\"error\"></span>\n      <input\n        value={link}\n        onChange={handleLinkChange}\n        id=\"link\"\n        required=\"\"\n        type=\"url\"\n        className=\"popup__input popup__input_name_url\"\n        name=\"link\"\n        placeholder=\"Ссылка на картинку\"\n      />\n      <span id=\"link-error\" className=\"error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","// ProtectedRoute.js\nimport React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? (\n          <>\n            <Component {...props} />\n            {props.children}\n          </>\n        ) : (\n          <Redirect to=\"/sign-in\" />\n        )\n      }\n    </Route>\n  );\n};\nexport default ProtectedRoute;\n\n// props.children также попадут и в сам Component. \n// Если Component использует внутри себя children, то вложенные элементы будут дважды добавлены в разметку.  \n// Чтобы этого избежать в деструктуризации свойств ProtectedRoute необходимо отделить children от props.\n// не понятно как что","import React from \"react\";\n\nfunction Login(props) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  function handleSetEmail(e) {\n    setEmail(e.target.value);\n  }\n  function handleSetPassword(e) {\n    setPassword(e.target.value);\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin({\n      email,\n      password,\n    });\n  };\n\n  return (\n    <div className=\"login\">\n      <h1 className=\"login__title\">Вход</h1>\n      <form\n        className=\"login__form\"\n        onSubmit={handleSubmit}\n        name=\"sign-up\"\n        method=\"GET\"\n        noValidate\n      >\n        <input\n          className=\"login__input\"\n          id=\"email\"\n          name=\"email\"\n          type=\"text\"\n          placeholder=\"Email\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          onChange={handleSetEmail}\n          value={email}\n          required\n        />\n        <input\n          className=\"login__input\"\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          onChange={handleSetPassword}\n          value={password}\n          required\n        />\n        <button className=\"login__submit\" type=\"submit\">\n          Войти\n        </button>\n      </form>\n    </div>\n  );\n}\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [email, setEmail] = React.useState(\"\");\n  function handleSetEmail(e) {\n    setEmail(e.target.value);\n  }\n  const [password, setPassword] = React.useState(\"\");\n  function handleSetPassword(e) {\n    setPassword(e.target.value);\n  }\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleRegister({\n      email,\n      password,\n    });\n  };\n\n  return (\n    <div className=\"login\">\n      <h1 className=\"login__title\">Регистрация</h1>\n      <form\n        className=\"login__form\"\n        onSubmit={handleSubmit}\n        name=\"sign-up\"\n        method=\"GET\"\n        noValidate\n      >\n        <input\n          className=\"login__input\"\n          id=\"email\"\n          name=\"email\"\n          type=\"text\"\n          placeholder=\"Email\"\n          minLength=\"2\"\n          maxLength=\"40\"\n          onChange={handleSetEmail}\n          value={email}\n          required\n        />\n        <input\n          className=\"login__input\"\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          placeholder=\"Пароль\"\n          minLength=\"2\"\n          maxLength=\"200\"\n          onChange={handleSetPassword}\n          value={password}\n          required\n        />\n        <button className=\"login__submit\" type=\"submit\">\n          Зарегистрироваться\n        </button>\n      </form>\n      <Link className=\"login__link\" to=\"sign-in\">\n        Уже зарегистрированы? Войти\n      </Link>\n    </div>\n  );\n}\n\nexport default Register;\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from \"react\";\nimport success from \"../images/success.svg\";\nimport error from \"../images/error.svg\";\n\nfunction InfoTooltip(props) {\n  return (\n    <div\n      id={props.popupId}\n      className={`popup popup_profile ${props.isOpen ? \"popup_opened\" : \"\"}`}\n    >\n{/* <div\n    id={props.popupId}\n    className={`popup popup_profile popup_opened`}\n  > */}\n      <div className=\"popup__window\">\n        <button\n          type=\"button\"\n          className=\"popup__close-button\"\n          onClick={props.onClose}\n        ></button>\n        <div>\n          <div className=\"popup__image-info\">\n            <img\n              className=\"popup__image\"\n              alt={props.isSuccess ? \"хорошо\" : \"плохо\"}\n              src={props.isSuccess ? success : error}\n            />\n            <h2 className=\"popup__image-title\">\n              {props.isSuccess\n                ? \"Вы успешно зарегистрировались\"\n                : \"Что-то поло не так Попробуйте ещё раз.\"}\n            </h2>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction PageNotFound () {\n  return (\n    <div>\n      <h3>\n       <span>404</span> - Страница не найдена\n      </h3>\n      <p>\n       Ой, здесь ничего нет\n      </p>\n      <Link to=\"/\">Назад</Link>\n    </div>\n  )\n}\n\nexport default PageNotFound;","import React from \"react\";\nimport { Redirect, Switch, Route, useHistory } from \"react-router-dom\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport Api from \"../utils/api.js\";\nimport * as auth from \"../utils/auth.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\nimport ProtectedRoute from \"./ProtectedRoute.js\";\nimport Login from \"./Login.js\";\nimport Register from \"./Register.js\";\nimport InfoTooltip from \"./InfoTooltip.js\";\nimport PageNotFound from \"./PageNotFound.js\";\n\nfunction App() {\n  ////////////// КОНСТАНТЫ //////////////////////////////////////////////////////\n  const history = useHistory();\n  // const [delCard, setDelCard] = React.useState(null);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isAuthReqSuccess, setIsAuthReqSuccess] = React.useState(true);\n  const [isInfoToolOpen, setIsInfoToolOpen] = React.useState(false);\n  const [cards, setCards] = React.useState([]);\n  const [currentUser, setUserData] = React.useState({\n    name: \"\",\n    about: \"\",\n    avatar: \"\",\n  });\n\n  ////////// ЮЗЭФЕКТЫ /////////////////////////////////////////////////////////////////\n\n  function getInitialData(email) {\n    // setLoggedIn(true);\n    return Promise.all([Api.getInitialCards(), Api.getUserData()])\n      .then(([initialCards, userData]) => {\n        setUserData({ ...userData, email });\n        setCards(initialCards);\n      })\n      .catch((err) => {\n        console.log(\"Ошибка в getInitialData\", err);\n      });\n  }\n\n  React.useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .tokenValid(token)\n        .then((res) => {\n          if (res) {\n            getInitialData(res.data.email);\n            setLoggedIn(true);\n          } else {\n            setLoggedIn(false);\n          }\n        })\n        .catch((err) => {\n          console.log(\"Ошибка валидации токена\", err);\n        });\n    }\n  }, []);\n\n /////////////////////////////////////////////////////////////////////////////\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    Api.handleCardLikeOnServer(card._id, !isLiked)\n      .then((newCard) => {\n        setCards((state) =>\n          state.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateUser(userData) {\n    Api.sendUserInfo(userData)\n      .then((res) => {\n        setUserData(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(\"Ошибка при обновление данных пользователя\", err);\n      });\n  }\n  function handleUpdateAvatar(userData) {\n    Api.sendUserAvatar(userData)\n      .then((res) => {\n        setUserData(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(\"Ошибка в обновлении аватара\", err);\n      });\n  }\n  function handleAddPlaceSubmit(userCardData) {\n    Api.sendNewCard(userCardData)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(\"Ошибка в отправке фотокарточки на сервер\", err);\n      });\n  }\n  function handleCardDelete(card) {\n    // setDelCard(card);\n    Api.delCardFromServer(card._id)\n      .then(() => {\n        setCards((prevCards) => prevCards.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoToolOpen(false);\n  }\n\n  /////////////// - РЕГИСТРАЦИЯ - ВХОД - ВЫХОД - //////////////////\n  function handleRegister(registerData) {\n    auth\n      .signup(registerData)\n      .then((res) => {\n        setIsAuthReqSuccess(true);\n        setIsInfoToolOpen(true);\n        history.push(\"/sign-in\");\n      })\n      .catch((err) => {\n        console.log(\"Ошибка в handleRegister\", err);\n        setIsAuthReqSuccess(false);\n        setIsInfoToolOpen(true);\n      });\n  }\n  function handleLogin(loginData) {\n    auth\n      .signin(loginData)\n\n      .then((res) => {\n        if (res !== null) {\n          localStorage.setItem(\"token\", res.token);\n          getInitialData(loginData.email).catch((err) => {\n            console.log(\"Ошибка получения почты при логине\", err);\n          });\n          setLoggedIn(true);\n        }\n      })\n      .catch((err) => {\n        console.log(\"Ошибка логина\", err);\n        setIsAuthReqSuccess(false);\n        setIsInfoToolOpen(true);\n      });\n  }\n  function handleLogout() {\n    localStorage.removeItem(\"token\");\n    setLoggedIn(false);\n    setUserData({ name: \"\", about: \"\", avatar: \"\", email: \"\" });\n  }\n\n  //////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Switch>\n            <Route path={\"/sign-up\"}>\n              {loggedIn ? (\n                <Redirect to=\"/\" />\n              ) : (\n                <>\n                  <Header link={\"sign-in\"} text={\"Войти\"} />\n                  <Register handleRegister={handleRegister} />\n                </>\n              )}\n            </Route>\n\n            <Route path={\"/sign-in\"}>\n              {loggedIn ? (\n                <Redirect to=\"/\" />\n              ) : (\n                <>\n                  <Header link={\"sign-up\"} text={\"Регистрация\"} />\n                  <Login handleLogin={handleLogin} />\n                </>\n              )}\n            </Route>\n            <ProtectedRoute\n              component={Main}\n              exact\n              path={\"/\"}\n              cards={cards}\n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              onCardClick={handleCardClick}\n              onCardLike={handleCardLike}\n              onDeleteCard={handleCardDelete}\n              onLogout={handleLogout}\n              isLoggedIn={loggedIn}\n            >\n              <EditProfilePopup\n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                currentUser={currentUser}\n                onUpdateUser={handleUpdateUser}\n              />\n              <EditAvatarPopup\n                onUpdateAvatar={handleUpdateAvatar}\n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n              />\n              <ImagePopup\n                isOpen={isImagePopupOpen}\n                card={selectedCard}\n                onClose={closeAllPopups}\n              />\n              <AddPlacePopup\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddCard={handleAddPlaceSubmit}\n              />\n            </ProtectedRoute>\n            <Route path=\"*\">\n    <PageNotFound />\n  </Route>\n\n          </Switch>\n          <InfoTooltip\n            isSuccess={isAuthReqSuccess}\n            isOpen={isInfoToolOpen}\n            onClose={closeAllPopups}\n          />\n          <Footer />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}